<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>WitchHunt</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="typing-page">
  <div id="displayWrapper">
    <div id="displayText">type something</div>
  </div>

  <div class="fixed-footer3"><a href="index.html">WitchHunt</a></div>
  <div class="fixed-footer4"><a href="info.html">Info</a></div>

  <script>
    const display = document.getElementById('displayText');
    const wrapper = document.getElementById('displayWrapper');
  
    let typedText = '';
    let hasStartedTyping = false;
  
    function updateDisplayText(text) {
      display.textContent = text;
  
      // font size at the begining
      let fontSize = 1000;
      display.style.fontSize = fontSize + 'px';
  
      /// reduce font size until it fits within the wrapper
      while (display.scrollWidth > wrapper.clientWidth && fontSize > 5) {
        fontSize -= 5;
        display.style.fontSize = fontSize + 'px';
      }
    }
  
    document.addEventListener('keydown', (e) => {
      // if a regular key is pressed
      if (e.key.length === 1 && !e.metaKey && !e.ctrlKey) {
        // reset typedText if starting to type
        if (!hasStartedTyping) {
          hasStartedTyping = true;
          typedText = '';
        }
        typedText += e.key; // add typed character
      } 
      // backspace
      else if (e.key === 'Backspace') {
        typedText = typedText.slice(0, -1);
      }
  
      // show initial message if nothing is typed
      if (typedText.length === 0) {
        hasStartedTyping = false;
        updateDisplayText('type something');
      } else {
        updateDisplayText(typedText);
      }
    });
  
    updateDisplayText('type something');
  </script>
  
</body>
</html>
